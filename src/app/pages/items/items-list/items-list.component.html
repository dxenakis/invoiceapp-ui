<section class="page">
  <header class="page-header">
    <h1>Είδη</h1>
    <button type="button" (click)="newItem()">Νέο είδος</button>
  </header>

  <div class="toolbar">
    <input
      type="text"
      placeholder="Αναζήτηση (κωδικός / όνομα)..."
      [(ngModel)]="searchTerm"
    />
  </div>

  <div *ngIf="loading">Φόρτωση...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <table *ngIf="page">
    <thead>
      <tr>
        <th>Κωδ.</th>
        <th>Όνομα</th>
        <th>Όνομα 2</th>
        <th>Κατηγορία</th>
        <th>Λιανική</th>
        <th>Χονδρική</th>
        <th>Ενεργό</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let item of filteredItems"
        (dblclick)="editItem(item)"
      >
        <td>{{ item.code }}</td>
        <td>{{ item.name }}</td>
        <td>{{ item.name1 }}</td>
        <td>{{ ACCOUNTING_CATEGORY_LABELS[item.accountCategory] }}</td>
        <td>{{ item.pricer | number : '1.2-2' }}</td>
        <td>{{ item.pricew | number : '1.2-2' }}</td>
        <td>{{ item.active ? '✔' : '✖' }}</td>
        <td>
          <button type="button" (click)="editItem(item)">Επεξεργασία</button>
          <button type="button" (click)="deleteItem(item)">Διαγραφή</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="page" class="pagination">
    <button
      type="button"
      [disabled]="page.number === 0"
      (click)="loadPage(page.number - 1)"
    >
      ← Προηγούμενη
    </button>

    <span>Σελίδα {{ page.number + 1 }} από {{ page.totalPages }}</span>

    <button
      type="button"
      [disabled]="page.number + 1 >= page.totalPages"
      (click)="loadPage(page.number + 1)"
    >
      Επόμενη →
    </button>
  </div>
</section>
